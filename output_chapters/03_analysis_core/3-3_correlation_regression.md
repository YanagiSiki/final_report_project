# 3.3 相關性與迴歸分析：探討變數間的關係 (Correlation and Regression: Exploring Relationships)

本節旨在探討資料集中關鍵計量變數之間的線性關係。我們首先透過**相關性分析**來評估變數間關聯的強度與方向，接著建立**線性迴歸模型**，嘗試以一個或多個變數來預測目標變數。

---

### 3.3.1 相關性分析 (Correlation Analysis)

我們採用**皮爾森相關係數 (Pearson Correlation Coefficient, r)** 來衡量兩個連續變數之間線性關係的強度和方向。係數 `r` 的值域為 `[-1, 1]`，其中：
- `r` 接近 `1`：表示高度正相關。
- `r` 接近 `-1`：表示高度負相關。
- `r` 接近 `0`：表示線性關係薄弱。

我們主要探討「總薪資中位數」、「各類別教師人數」、「各階段新生兒人數」與「各類別有效登記量」等變數之間的關係。

**分析結果：**

為了直觀地概覽所有變數間的關聯，我們繪製了相關性矩陣熱力圖 (Correlation Matrix Heatmap)。

![Correlation Matrix Heatmap](../../images/3_1_correlation_matrix.svg)
*圖 3.3.1：關鍵變數相關性矩陣熱力圖*

下表詳細列出了部分關鍵變數配對的相關係數 `(r)` 及其顯著性 `(p-value)`。

| 變數組合 | 相關係數 (r) | p 值 (p-value) |
| :--- | :---: | :---: |
| (總薪資中位數, 新生兒總人數) | **[填入r值]** | **[填入p值]** |
| (總薪資中位數, 教師總人數) | **[填入r值]** | **[填入p值]** |
| (新生兒總人數, 教師總人數) | **[填入r值]** | **[填入p值]** |

**結果判讀：**

*(此處針對上圖與上表的結果進行文字描述)*

範例：從熱力圖可初步看出，「總薪資中位數」與「新生兒總人數」呈現中度的負相關。詳細數據顯示，兩者相關係數 r = **[填寫數值]**，p 值 **[< 或 >]** 0.05，達到/未達到統計顯著水準，說明隨著薪資中位數的提高，新生兒人數有減少的趨勢。

### 3.3.2 線性迴歸分析 (Linear Regression Analysis)

基於相關性分析的發現，我們進一步建立簡單線性迴歸模型，旨在以「新生兒總人數」(自變數, X) 來預測「總薪資中位數」(應變數, Y)。

**模型設定：**

- **應變數 (Y):** 總薪資中位數
- **自變數 (X):** 新生兒總人數
- **迴歸模型:** `Salary = β₀ + β₁ * Births + ε`

**模型分析結果：**

下表為迴歸模型的擬合結果摘要。

| 項目 (Item) | 估計係數 (Coefficient) | 標準誤 (Std. Error) | t 值 | p 值 (p-value) |
| :--- | :---: | :---: | :---: | :---: |
| 截距 (Intercept, β₀) | **[填入β₀值]** | **[填入SE]** | **[填入t值]** | **[填入p值]** |
| 新生兒總人數 (β₁) | **[填入β₁值]** | **[填入SE]** | **[填入t值]** | **[填入p值]** |
| **模型整體表現** | **數值** |
| R-squared | **[填入R²值]** |
| Adj. R-squared | **[填入Adj. R²值]** |
| F-statistic | **[填入F值 (對應p值)]** |

**結果判讀：**

模型的 **R-squared** 值為 **[填寫R²值]**，表示「新生兒總人數」這個變數可以解釋「總薪資中位數」約 **[XX.X]%** 的變異。

模型的 F 統計量為 **[填寫F值]**，p 值 **[< 或 >]** 0.05，因此整體模型達到/未達到統計顯著水準。

自變數「新生兒總人數」的係數為 **[填寫β₁值]**，且 p 值 **[< 或 >]** 0.05，意味著新生兒總人數每增加一個單位，總薪資中位數預計會對應 [增加/減少] **[β₁的絕對值]** 個單位，此影響是/不是顯著的。

### 3.3.3 小結

綜合分析，相關性檢定顯示「總薪資中位數」與「新生兒總人數」之間存在顯著的負向關聯。迴歸模型進一步量化了此關係，證實新生兒人數的變化確實能部分預測薪資的走勢。然而，模型的 R-squared 值也提醒我們，仍有其他未納入模型的因素在影響著薪資水準。
